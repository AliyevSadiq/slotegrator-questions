Объединение всех сервисов в одну сеть app-network позволяет им общаться друг с другом по именам контейнеров, что упрощает настройку соединений между сервисами. Сервис PHP использует общий том с контейнером Nginx, чтобы раздавать содержимое веб-сайта.

Новый сервис PHP использует образ PHP 7.4 FPM. Образ содержит среду выполнения PHP для запуска веб-приложений. В этом файле конфигурация сервиса PHP не требуется, но ее можно добавить в дальнейшем.

Сервис базы данных MySQL был обновлен до версии 8.0. Добавлены переменные окружения для настройки базы данных при запуске контейнера.

Конфигурация сервиса Nginx теперь хранится в отдельном томе ./etc/nginx/conf.d и может быть изменена извне. Переменные окружения NGINX_PORT и NGINX_SSL_PORT используются для определения портов, на которых будет работать Nginx. Они должны быть определены в файле .env, который будет использоваться при запуске контейнеров.